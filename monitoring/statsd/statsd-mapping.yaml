mappings:
  - match: "requests.*"
    name: "statsd_requests"
    labels:
      type: "$1"

  - match: "requests.model.*.input_tokens"
    name: "statsd_requests_model_${1}_input_tokens"

  - match: "requests.model.*.output_tokens"
    name: "statsd_requests_model_${1}_output_tokens"

  - match: "requests.errors.*"
    name: "statsd_requests_errors"
    labels:
      type: "$1"

  - match: "requests.errors.model.*"
    name: "statsd_requests_model_${1}_errors"

  - match: "request.latency"
    name: "statsd_request_latency"
    type: summary
    labels:
      source: "gateway"

  - match: "request.latency.raw"
    name: "request_latency_seconds"
    observer_type: histogram
    histogram_options:
      buckets: [0.5, 1, 2, 3, 4, 5, 6, 8, 10]
    labels:
      source: "gateway"      
